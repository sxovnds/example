<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>마우스 클릭 연습</title>

    <style>
        
        table {
            border : 1px solid blue;
            border-collapse : collapse; 
        }
        td {
            border : 1px solid blue;
            width : 50px;
            height : 50px;
            padding : 0px;
        }
    </style>
  </head>
  <body>
    <h3>마우스 클릭 연습</h3>
    <hr>
    <table>
      <tbody>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        
      </tbody>
    </table>

    <script>
      const table = document.querySelector('table');
      const cells = table.getElementsByTagName('td');
      const numCells = cells.length;

      // 셀에 이미지 배치하기
      const randomIndex = Math.floor(Math.random() * numCells);
      cells[randomIndex].innerHTML = '<img src="https://picsum.photos/50/50?random=1" />';

      // 이미지 클릭 이벤트 핸들러 함수
      function handleClick(event) {
        const selectedCell = event.target.parentElement;
        const emptyCells = Array.from(cells).filter(cell => cell.innerHTML === '');

        if (emptyCells.length > 0) {
          // 이동할 빈 셀 중 랜덤하게 선택
          const randomIndex = Math.floor(Math.random() * emptyCells.length);
          const targetCell = emptyCells[randomIndex];

          // 선택한 셀과 이동할 셀 내용 교환
          const temp = selectedCell.innerHTML;
          selectedCell.innerHTML = targetCell.innerHTML;
          targetCell.innerHTML = temp;
        }

        // 이미지 클릭 이벤트 핸들러 다시 등록
        const image = document.querySelector('img');
        image.removeEventListener('click', handleClick);
        image.addEventListener('click', handleClick);
      }

      // 이미지 클릭 이벤트 핸들러 등록
      const image = document.querySelector('img');
      image.addEventListener('click', handleClick);
    </script>
  </body>
</html>
